<!DOCTYPE html>

<head>

</head>
<html>

<body>
    <h1>My First Heading</h1>
    <p>My first paragraph.</p>
    <p id='timer'></p>
    <input id='start' type='button' value='start' />
    <input id='stop' type='button' value='stop' style="display: none" />
</body>
<script>
    window.addEventListener('load', () => {
        var x = undefined

        document.getElementById('start').onclick =
            (event) => {
                if (!!x) {
                    clearInterval(x);
                }

                const endTime = new Date();
                endTime.setMinutes(endTime.getMinutes() + 30)

                x = setInterval(() => {
                    const remainingTime = endTime - new Date();
                    const hours = Math.floor((remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);
                    let time = seconds + "s ";

                    if (remainingTime < 0) {
                        clearInterval(x);
                        document.getElementById("timer").innerHTML = "COMPLETE";
                        const stop = document.getElementById('stop');
                        stop.style.display = 'none';
                        event.target.style.display = '';
                        return;
                    }

                    if (hours > 0) {
                        time = hours + 'h ' + minutes + 'm ' + time;
                    }
                    else if (minutes > 0) {
                        time = minutes + "m " + time;
                    }

                    document.getElementById('timer').innerHTML = time;

                    const stop = document.getElementById('stop');
                    stop.style.display = '';
                    event.target.style.display = 'none';
                }, 500);
            }

        document.getElementById('stop').onclick =
            (event) => {
                if (!!x) {
                    clearInterval(x);
                }

                document.getElementById("timer").innerHTML = "STOPPED";
                const start = document.getElementById('start');
                start.style.display = '';
                event.target.style.display = 'none';
                return;
            }
    })
</script>

</html>